/*!
 * Chartkick.js v5.0.1
 * Create beautiful charts with one line of JavaScript
 * https://github.com/ankane/chartkick.js
 * MIT License
 */ !function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Chartkick=e()}(this,function(){"use strict";function t(t){return"[object Array]"===Object.prototype.toString.call(t)}function e(t){return t instanceof Function}function r(t){return"[object Object]"===Object.prototype.toString.call(t)&&!e(t)&&t instanceof Object}function n(e,o){for(var a in o)"__proto__"!==a&&(r(o[a])||t(o[a])?(r(o[a])&&!r(e[a])&&(e[a]={}),t(o[a])&&!t(e[a])&&(e[a]=[]),n(e[a],o[a])):void 0!==o[a]&&(e[a]=o[a]))}function o(t,e){var r={};return n(r,t),n(r,e),r}var a=/^(\d\d\d\d)(?:-)?(\d\d)(?:-)?(\d\d)$/i;function i(t){return""+t}function s(t){return parseFloat(t)}function l(t){if(t instanceof Date)return t;if("number"==typeof t)return new Date(1e3*t);var e,r=""+(e=t),n=r.match(a);if(n){var o=parseInt(n[1],10),i=parseInt(n[2],10)-1,s=parseInt(n[3],10);return new Date(o,i,s)}var l=r.replace(/ /,"T").replace(" ","").replace("UTC","Z");return new Date(Date.parse(l)||r)}function c(e){if(t(e))return e;var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push([n,e[n]]);return r}function p(t,e,r,n,a,i,s,l){return function(c,p,u){var h=c.data,d=o({},t);return d=o(d,u||{}),(c.singleSeriesFormat||"legend"in p)&&e(d,p.legend,c.singleSeriesFormat),p.title&&r(d,p.title),"min"in p?n(d,p.min):!function t(e){for(var r=0;r<e.length;r++)for(var n=e[r].data,o=0;o<n.length;o++)if(n[o][1]<0)return!0;return!1}(h)&&n(d,0),p.max&&a(d,p.max),"stacked"in p&&i(d,p.stacked),p.colors&&(d.colors=p.colors),p.xtitle&&s(d,p.xtitle),p.ytitle&&l(d,p.ytitle),d=o(d,p.library||{})}}function u(t,e){return t[0].getTime()-e[0].getTime()}function h(t,e){return t[0]-e[0]}function d(t,e){return t-e}function f(t,e){for(var r=0;r<t.length;r++)if(!e(t[r]))return!1;return!0}function y(t,e){if(void 0===e&&(e=!1),0===t.length||!f(t,function(t){return 0===t.getMilliseconds()&&0===t.getSeconds()}))return null;if(!f(t,function(t){return 0===t.getMinutes()}))return"minute";if(!f(t,function(t){return 0===t.getHours()}))return"hour";if(e)return"day";if(!f(t,function(t){return 1===t.getDate()})){var r=t[0].getDay();return f(t,function(t){return t.getDay()===r})?"week":"day"}return f(t,function(t){return 0===t.getMonth()})?"year":"month"}function $(t){var e;return!isNaN(l(t))&&(""+(e=t)).length>=6}function v(t){return"number"==typeof t}var m=["bytes","KB","MB","GB","TB","PB","EB"];function g(t,e,r,n){t=t||"",r.prefix&&(e<0&&(e*=-1,t+="-"),t+=r.prefix);var o=r.suffix||"",a=r.precision,i=r.round;if(r.byteScale){var s,l=e>=0;l||(e*=-1);var c=n?r.byteScale:e;c>=0x1000000000000000?(e/=0x1000000000000000,s=6):c>=0x4000000000000?(e/=0x4000000000000,s=5):c>=1099511627776?(e/=1099511627776,s=4):c>=1073741824?(e/=1073741824,s=3):c>=1048576?(e/=1048576,s=2):c>=1024?(e/=1024,s=1):s=0,void 0===a&&void 0===i&&(e>=1023.5&&s<m.length-1&&(e=1,s+=1),a=e>=1e3?4:3),o=" "+m[s],l||(e*=-1)}if(void 0!==a&&void 0!==i)throw Error("Use either round or precision, not both");if(!n&&(void 0===a||(e=e.toPrecision(a),r.zeros||(e=parseFloat(e))),void 0!==i)){if(i<0){var p=Math.pow(10,-1*i);e=parseInt((1*e/p).toFixed(0))*p}else e=e.toFixed(i),r.zeros||(e=parseFloat(e))}if(r.thousands||r.decimal){var u,h=(e=""+(u=e)).split(".");e=h[0],r.thousands&&(e=e.replace(/\B(?=(\d{3})+(?!\d))/g,r.thousands)),h.length>1&&(e+=(r.decimal||".")+h[1])}return t+e+o}function b(t,e,r){return r in e?e[r]:r in t.options?t.options[r]:null}var x={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},_={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},C=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"];function w(t,e,r){void 0!==e?(t.plugins.legend.display=!!e,e&&!0!==e&&(t.plugins.legend.position=e)):r&&(t.plugins.legend.display=!1)}function k(t,e){t.plugins.title.display=!0,t.plugins.title.text=e}function S(t,e){null!==e&&(t.scales.x.min=s(e))}function A(t,e){t.scales.x.max=s(e)}function T(t,e){t.scales.x.stacked=!!e,t.scales.y.stacked=!!e}function D(t,e){t.scales.x.title.display=!0,t.scales.x.title.text=e}function L(t,e){t.scales.y.title.display=!0,t.scales.y.title.text=e}function z(t,e){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?"rgba("+parseInt(r[1],16)+", "+parseInt(r[2],16)+", "+parseInt(r[3],16)+", "+e+")":t}function F(t){return null!=t}function E(t,e,r){var n={thousands:t.options.thousands,decimal:t.options.decimal},a=o({prefix:t.options.prefix,suffix:t.options.suffix,precision:t.options.precision,round:t.options.round,zeros:t.options.zeros},n);if(t.options.bytes){var i=t.data;"pie"===r&&(i=[{data:i}]),a.byteScale=function t(e){for(var r=1,n=function t(e){for(var r=0,n=0;n<e.length;n++)for(var o=e[n].data,a=0;a<o.length;a++){var i=Math.abs(o[a][1]);i>r&&(r=i)}return r}(e);n>=1024;)r*=1024,n/=1024;return r}(i)}if("pie"!==r){var s=e.scales.y;"bar"===r&&(s=e.scales.x),a.byteScale&&(s.ticks.stepSize||(s.ticks.stepSize=a.byteScale/2),s.ticks.maxTicksLimit||(s.ticks.maxTicksLimit=4)),s.ticks.callback||(s.ticks.callback=function(t){return g("",t,a,!0)}),"scatter"!==r&&"bubble"!==r||e.scales.x.ticks.callback||(e.scales.x.ticks.callback=function(t){return g("",t,n,!0)})}if(!e.plugins.tooltip.callbacks.label){if("scatter"===r)e.plugins.tooltip.callbacks.label=function(t){var e=t.dataset.label||"";e&&(e+=": ");var r=t.parsed;return e+"("+g("",r.x,n)+", "+g("",r.y,a)+")"};else if("bubble"===r)e.plugins.tooltip.callbacks.label=function(t){var e=t.dataset.label||"";e&&(e+=": ");var r=t.raw;return e+"("+g("",r.x,n)+", "+g("",r.y,a)+", "+g("",r.v,n)+")"};else if("pie"===r)e.plugins.tooltip.callbacks.label=function(t){return g("",t.parsed,a)};else{var l="bar"===r?"x":"y";e.plugins.tooltip.callbacks.label=function(t){if(null!==t.parsed[l]){var e=t.dataset.label||"";return e&&(e+=": "),g(e,t.parsed[l],a)}}}}"line"!==r&&"area"!==r||"number"!==t.xtype||(e.scales.x.ticks.callback||(e.scales.x.ticks.callback=function(t){var e;return""+(e=t)}),e.plugins.tooltip.callbacks.title||(e.plugins.tooltip.callbacks.title=function(t){var e;return""+(e=t[0].parsed.x)}))}var B=p(o(x,_),w,k,function t(e,r){null!==r&&(e.scales.y.min=s(r))},function t(e,r){e.scales.y.max=s(r)},T,D,L);function O(e,r,n){for(var a,i,s=(a=e,"bubble"===(i=n)?function t(e){for(var r=e.data,n=[],o=function t(e){for(var r=0,n=0;n<e.length;n++)for(var o=e[n].data,a=0;a<o.length;a++){var i=o[a][2];i>r&&(r=i)}return r}(r),a=0;a<r.length;a++){for(var i=r[a].data,s=[],l=0;l<i.length;l++){var c=i[l];s.push({x:c[0],y:c[1],r:20*c[2]/o,v:c[2]})}n.push(s)}return{labels:[],values:n}}(a):"number"===a.xtype&&"bar"!==i&&"column"!==i?function t(e){for(var r=e.data,n=[],o=0;o<r.length;o++){var a=r[o].data;a.sort(h);for(var i=[],s=0;s<a.length;s++){var l=a[s];i.push({x:l[0],y:l[1]})}n.push(i)}return{labels:[],values:n}}(a):function t(e){for(var r=e.data,n={},o=[],a=[],i=[],s=0;s<r.length;s++)for(var l=r[s].data,c=0;c<l.length;c++){var p=l[c],u="datetime"===e.xtype?p[0].getTime():p[0];n[u]||(n[u]=Array(r.length),o.push(u)),n[u][s]=p[1]}("datetime"===e.xtype||"number"===e.xtype)&&o.sort(d);for(var h=0;h<r.length;h++)i.push([]);for(var f=0;f<o.length;f++){var y=o[f],$="datetime"===e.xtype?new Date(y):y;a.push($);for(var v=n[y],m=0;m<r.length;m++){var g=v[m];i[m].push(void 0===g?null:g)}}return{labels:a,values:i}}(a)),c=s.labels,p=s.values,u=e.data,f=[],$=e.options.colors||C,v=0;v<u.length;v++){var m=u[v],g=void 0,x=void 0;if(e.options.colors&&e.singleSeriesFormat&&("bar"===n||"column"===n)&&!m.color&&t(e.options.colors)&&!t(e.options.colors[0])){g=$,x=[];for(var _=0;_<$.length;_++)x[_]=z(g[_],.5)}else g=m.color||$[v],x="line"!==n?z(g,.5):g;var w={label:m.name||"",data:p[v],fill:"area"===n,borderColor:g,backgroundColor:x,borderWidth:2},k="line"===n||"area"===n||"scatter"===n||"bubble"===n;k&&(w.pointBackgroundColor=g,w.pointHoverBackgroundColor=g,w.pointHitRadius=50),"bubble"===n&&(w.pointBackgroundColor=x,w.pointHoverBackgroundColor=x,w.pointHoverBorderWidth=2),m.stack&&(w.stack=m.stack),!1===b(e,m,"curve")?w.tension=0:k&&(w.tension=.4),!1===b(e,m,"points")&&(w.pointRadius=0,w.pointHoverRadius=0),w=o(w,e.options.dataset||{}),w=o(w,m.library||{}),w=o(w,m.dataset||{}),f.push(w)}var S=e.options.xmin,A=e.options.xmax;if("datetime"===e.xtype?(F(S)&&(r.scales.x.min=l(S).getTime()),F(A)&&(r.scales.x.max=l(A).getTime())):"number"===e.xtype&&(F(S)&&(r.scales.x.min=S),F(A)&&(r.scales.x.max=A)),"datetime"===e.xtype){var T=y(c);if(0===c.length&&(F(S)&&c.push(l(S)),F(A)&&c.push(l(A))),c.length>0){for(var D,L=(F(S)?l(S):c[0]).getTime(),E=(F(A)?l(A):c[0]).getTime(),B=1;B<c.length;B++){var O=c[B].getTime();O<L&&(L=O),O>E&&(E=O)}var N=(E-L)/864e5;if(!r.scales.x.time.unit&&("year"===T||N>3650?(r.scales.x.time.unit="year",D=365):"month"===T||N>300?(r.scales.x.time.unit="month",D=30):"week"===T||"day"===T||N>10?(r.scales.x.time.unit="day",D=1):"hour"===T||N>.5?(r.scales.x.time.displayFormats={hour:"MMM d, h a"},r.scales.x.time.unit="hour",D=1/24):"minute"===T&&(r.scales.x.time.displayFormats={minute:"h:mm a"},r.scales.x.time.unit="minute",D=1/24/60),D&&N>0)){var R=e.element.offsetWidth;if(R>0){var M=Math.ceil(N/D/(R/100));"week"===T&&1===D&&(M=7*Math.ceil(M/7)),r.scales.x.ticks.stepSize=M}}r.scales.x.time.tooltipFormat||("year"===T?r.scales.x.time.tooltipFormat="yyyy":"month"===T?r.scales.x.time.tooltipFormat="MMM yyyy":"week"===T||"day"===T?r.scales.x.time.tooltipFormat="PP":"hour"===T?r.scales.x.time.tooltipFormat="MMM d, h a":"minute"!==T||(r.scales.x.time.tooltipFormat="h:mm a"))}}return{labels:c,datasets:f}}var N=function t(e){this.name="chartjs",this.library=e};N.prototype.renderLineChart=function t(e,r){r||(r="line");var n=B(e,o({},e.options));E(e,n,r);var a=O(e,n,r);"number"===e.xtype?(n.scales.x.type=n.scales.x.type||"linear",n.scales.x.position=n.scales.x.position||"bottom"):n.scales.x.type="string"===e.xtype?"category":"time",this.drawChart(e,"line",a,n)},N.prototype.renderPieChart=function t(e){var r=o({},x);e.options.donut&&(r.cutout="50%"),"legend"in e.options&&w(r,e.options.legend),e.options.title&&k(r,e.options.title),r=o(r,e.options.library||{}),E(e,r,"pie");for(var n=[],a=[],i=0;i<e.data.length;i++){var s=e.data[i];n.push(s[0]),a.push(s[1])}var l={data:a,backgroundColor:e.options.colors||C};l=o(l,e.options.dataset||{});var c={labels:n,datasets:[l]};this.drawChart(e,"pie",c,r)},N.prototype.renderColumnChart=function t(e,r){if("bar"===r){var n,a,i,s,l,c=o(x,_);c.indexAxis="y",c.scales.x.grid.drawOnChartArea=!0,c.scales.y.grid.drawOnChartArea=!1,delete c.scales.y.ticks.maxTicksLimit,l=p(c,w,k,S,A,T,D,L)(e,e.options)}else l=B(e,e.options);E(e,l,r);var u=O(e,l,"column");"bar"!==r&&(n=e,a=u,i=l,(s=Math.ceil(n.element.offsetWidth/4/a.labels.length))>25?s=25:s<10&&(s=10),i.scales.x.ticks.callback||(i.scales.x.ticks.callback=function(t){var e;return(t=""+(e=this.getLabelForValue(t))).length>s?t.substring(0,s-2)+"...":t})),"mode"in l.interaction||(l.interaction.mode="index"),this.drawChart(e,"bar",u,l)},N.prototype.renderAreaChart=function t(e){this.renderLineChart(e,"area")},N.prototype.renderBarChart=function t(e){this.renderColumnChart(e,"bar")},N.prototype.renderScatterChart=function t(e,r){r=r||"scatter";var n=B(e,e.options);E(e,n,r),"showLine"in n||(n.showLine=!1);var o=O(e,n,r);n.scales.x.type=n.scales.x.type||"linear",n.scales.x.position=n.scales.x.position||"bottom","mode"in n.interaction||(n.interaction.mode="nearest"),this.drawChart(e,r,o,n)},N.prototype.renderBubbleChart=function t(e){this.renderScatterChart(e,"bubble")},N.prototype.destroy=function t(e){e.chart&&e.chart.destroy()},N.prototype.drawChart=function t(e,r,n,o){if(this.destroy(e),!e.destroyed){var a={type:r,data:n,options:o};e.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(a)+");"),e.element.innerHTML="<canvas></canvas>";var i=e.element.getElementsByTagName("CANVAS")[0];e.chart=new this.library(i,a)}};var R={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}};function M(t,e,r){void 0!==e?(t.legend.enabled=!!e,e&&!0!==e&&("top"===e||"bottom"===e?t.legend.verticalAlign=e:(t.legend.layout="vertical",t.legend.verticalAlign="middle",t.legend.align=e))):r&&(t.legend.enabled=!1)}function H(t,e){t.title.text=e}var P=p(R,M,H,function t(e,r){e.yAxis.min=r},function t(e,r){e.yAxis.max=r},function t(e,r){var n=r?!0===r?"normal":r:null;e.plotOptions.series.stacking=n,e.plotOptions.area.stacking=n,e.plotOptions.areaspline.stacking=n},function t(e,r){e.xAxis.title.text=r},function t(e,r){e.yAxis.title.text=r});function I(e,r,n){var o={prefix:e.options.prefix,suffix:e.options.suffix,thousands:e.options.thousands,decimal:e.options.decimal,precision:e.options.precision,round:e.options.round,zeros:e.options.zeros};"pie"===n||t(r.yAxis)||r.yAxis.labels.formatter||(r.yAxis.labels.formatter=function(){return g("",this.value,o)}),r.tooltip.pointFormatter||r.tooltip.pointFormat||(r.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">‚óè</span> '+g(this.series.name+": <b>",this.y,o)+"</b><br/>"})}var j=function t(e){this.name="highcharts",this.library=e};j.prototype.renderLineChart=function t(e,r){var n={};"areaspline"===(r=r||"spline")&&(n={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),!1===e.options.curve&&("areaspline"===r?r="area":"spline"===r&&(r="line"));var o=P(e,e.options,n);"number"===e.xtype?o.xAxis.type=o.xAxis.type||"linear":o.xAxis.type="string"===e.xtype?"category":"datetime",o.chart.type||(o.chart.type=r),I(e,o,r);for(var a=e.data,i=0;i<a.length;i++){a[i].name=a[i].name||"Value";var s=a[i].data;if("datetime"===e.xtype)for(var l=0;l<s.length;l++)s[l][0]=s[l][0].getTime();else"number"===e.xtype&&s.sort(h);a[i].marker={symbol:"circle"},!1===e.options.points&&(a[i].marker.enabled=!1)}this.drawChart(e,a,o)},j.prototype.renderScatterChart=function t(e){var r=P(e,e.options,{});r.chart.type="scatter",this.drawChart(e,e.data,r)},j.prototype.renderPieChart=function t(e){var r=o(R,{});e.options.colors&&(r.colors=e.options.colors),e.options.donut&&(r.plotOptions={pie:{innerSize:"50%"}}),"legend"in e.options&&M(r,e.options.legend),e.options.title&&H(r,e.options.title);var n=o(r,e.options.library||{});I(e,n,"pie");var a=[{type:"pie",name:e.options.label||"Value",data:e.data}];this.drawChart(e,a,n)},j.prototype.renderColumnChart=function t(e,r){r=r||"column";var n=e.data,o=P(e,e.options),a=[],i=[];o.chart.type=r,I(e,o,r);for(var s=0;s<n.length;s++)for(var l=n[s],c=0;c<l.data.length;c++){var p=l.data[c];a[p[0]]||(a[p[0]]=Array(n.length),i.push(p[0])),a[p[0]][s]=p[1]}"number"===e.xtype&&i.sort(d),o.xAxis.categories=i;for(var u=[],h=0;h<n.length;h++){for(var f=[],y=0;y<i.length;y++)f.push(a[i[y]][h]||0);var $={name:n[h].name||"Value",data:f};n[h].stack&&($.stack=n[h].stack),u.push($)}this.drawChart(e,u,o)},j.prototype.renderBarChart=function t(e){this.renderColumnChart(e,"bar")},j.prototype.renderAreaChart=function t(e){this.renderLineChart(e,"areaspline")},j.prototype.destroy=function t(e){e.chart&&e.chart.destroy()},j.prototype.drawChart=function t(e,r,n){this.destroy(e),!e.destroyed&&(n.chart.renderTo=e.element.id,n.series=r,e.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(n)+");"),e.chart=new this.library.Chart(n))};var W={},V=[],G={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}};function U(t,e,r){if(void 0!==e){var n;n=e?!0===e?"right":e:"none",t.legend.position=n}else r&&(t.legend.position="none")}function K(t,e){t.title=e,t.titleTextStyle={color:"#333",fontSize:"20px"}}function q(t,e){t.hAxis.viewWindow.min=e}function J(t,e){t.hAxis.viewWindow.max=e}function Y(t,e){t.isStacked=e||!1}function Z(t,e){t.hAxis.title=e,t.hAxis.titleTextStyle.italic=!1}function Q(t,e){t.vAxis.title=e,t.vAxis.titleTextStyle.italic=!1}var X=p(G,U,K,function t(e,r){e.vAxis.viewWindow.min=r},function t(e,r){e.vAxis.viewWindow.max=r},Y,Z,Q),tt=function t(e){this.name="google",this.library=e};tt.prototype.renderLineChart=function t(e){var r=this;this.waitForLoaded(e,function(){var t={};!1===e.options.curve&&(t.curveType="none"),!1===e.options.points&&(t.pointSize=0);var n=X(e,e.options,t),o=r.createDataTable(e.data,e.xtype);r.drawChart(e,"LineChart",o,n)})},tt.prototype.renderPieChart=function t(e){var r=this;this.waitForLoaded(e,function(){var t={chartArea:{top:"10%",height:"80%"},legend:{}};e.options.colors&&(t.colors=e.options.colors),e.options.donut&&(t.pieHole=.5),"legend"in e.options&&U(t,e.options.legend),e.options.title&&K(t,e.options.title);var n=o(o(G,t),e.options.library||{}),a=new r.library.visualization.DataTable;a.addColumn("string",""),a.addColumn("number","Value"),a.addRows(e.data),r.drawChart(e,"PieChart",a,n)})},tt.prototype.renderColumnChart=function t(e){var r=this;this.waitForLoaded(e,function(){var t=X(e,e.options),n=r.createDataTable(e.data,e.xtype);r.drawChart(e,"ColumnChart",n,t)})},tt.prototype.renderBarChart=function t(e){var r=this;this.waitForLoaded(e,function(){var t=p(G,U,K,q,J,Y,Z,Q)(e,e.options,{hAxis:{gridlines:{color:"#ccc"}}}),n=r.createDataTable(e.data,e.xtype);r.drawChart(e,"BarChart",n,t)})},tt.prototype.renderAreaChart=function t(e){var r=this;this.waitForLoaded(e,function(){var t=X(e,e.options,{isStacked:!0,pointSize:0,areaOpacity:.5}),n=r.createDataTable(e.data,e.xtype);r.drawChart(e,"AreaChart",n,t)})},tt.prototype.renderGeoChart=function t(e){var r=this;this.waitForLoaded(e,"geochart",function(){var t=o(o(G,{legend:"none",colorAxis:{colors:e.options.colors||["#f6c7b6","#ce502d"]}}),e.options.library||{}),n=new r.library.visualization.DataTable;n.addColumn("string",""),n.addColumn("number",e.options.label||"Value"),n.addRows(e.data),r.drawChart(e,"GeoChart",n,t)})},tt.prototype.renderScatterChart=function t(e){var r=this;this.waitForLoaded(e,function(){for(var t=X(e,e.options,{}),n=e.data,o=[],a=0;a<n.length;a++){n[a].name=n[a].name||"Value";for(var i=n[a].data,s=0;s<i.length;s++){var l=Array(n.length+1);l[0]=i[s][0],l[a+1]=i[s][1],o.push(l)}}var c=new r.library.visualization.DataTable;c.addColumn("number","");for(var p=0;p<n.length;p++)c.addColumn("number",n[p].name);c.addRows(o),r.drawChart(e,"ScatterChart",c,t)})},tt.prototype.renderTimeline=function t(e){var r=this;this.waitForLoaded(e,"timeline",function(){var t={legend:"none"};e.options.colors&&(t.colors=e.options.colors);var n=o(o(G,t),e.options.library||{}),a=new r.library.visualization.DataTable;a.addColumn({type:"string",id:"Name"}),a.addColumn({type:"date",id:"Start"}),a.addColumn({type:"date",id:"End"}),a.addRows(e.data),e.element.style.lineHeight="normal",r.drawChart(e,"Timeline",a,n)})},tt.prototype.destroy=function t(e){e.chart&&e.chart.clearChart()},tt.prototype.drawChart=function t(e,r,n,o){var a;this.destroy(e),!e.destroyed&&(e.options.code&&window.console.log("var data = new google.visualization.DataTable("+n.toJSON()+");\nvar chart = new google.visualization."+r+"(element);\nchart.draw(data, "+JSON.stringify(o)+");"),e.chart=new this.library.visualization[r](e.element),a=function(){e.chart.draw(n,o)},window.attachEvent?window.attachEvent("onresize",a):window.addEventListener&&window.addEventListener("resize",a,!0),a())},tt.prototype.waitForLoaded=function t(e,r,n){var o=this;if(n||(n=r,r="corechart"),V.push({pack:r,callback:n}),W[r])this.runCallbacks();else{W[r]=!0;var a={packages:[r],callback:function(){o.runCallbacks()}},i=e.__config();i.language&&(a.language=i.language),"geochart"===r&&i.mapsApiKey&&(a.mapsApiKey=i.mapsApiKey),this.library.charts.load("current",a)}},tt.prototype.runCallbacks=function t(){for(var e=0;e<V.length;e++){var r=V[e];this.library.visualization&&("corechart"===r.pack&&this.library.visualization.LineChart||"timeline"===r.pack&&this.library.visualization.Timeline||"geochart"===r.pack&&this.library.visualization.GeoChart)&&(r.callback(),V.splice(e,1),e--)}},tt.prototype.createDataTable=function t(e,r){for(var n=[],o=[],a=0;a<e.length;a++){var i=e[a];e[a].name=e[a].name||"Value";for(var s=0;s<i.data.length;s++){var l=i.data[s],c="datetime"===r?l[0].getTime():l[0];n[c]||(n[c]=Array(e.length),o.push(c)),n[c][a]=l[1]}}for(var p=[],d=[],f=0;f<o.length;f++){var $=o[f],v=void 0;"datetime"===r?(v=new Date($),d.push(v)):v=$,p.push([v].concat(n[$]))}var m=!0;if("datetime"===r)p.sort(u),m="day"===(g=y(d,!0))||"week"===g||"month"===g||"year"===g;else if("number"===r){p.sort(h);for(var g,b,x=0;x<p.length;x++)p[x][0]=""+(b=p[x][0]);r="string"}var _=new this.library.visualization.DataTable;r="datetime"===r&&m?"date":r,_.addColumn(r,"");for(var C=0;C<e.length;C++)_.addColumn("number",e[C].name);return _.addRows(p),_};var te=[];function tr(t){for(var r=function t(r){if(r){if("Highcharts"===r.product)return j;if(r.charts)return tt;if(e(r))return N}throw Error("Unknown adapter")}(t),n=0;n<te.length;n++)if(te[n].library===t)return;te.push(new r(t))}var tn={charts:{},configure:function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(tn.config[e]=t[e])},setDefaultOptions:function(t){tn.options=t},eachChart:function(t){for(var e in tn.charts)Object.prototype.hasOwnProperty.call(tn.charts,e)&&t(tn.charts[e])},destroyAll:function(){for(var t in tn.charts)Object.prototype.hasOwnProperty.call(tn.charts,t)&&(tn.charts[t].destroy(),delete tn.charts[t])},config:{},options:{},adapters:te,addAdapter:tr,use:function(t){return tr(t),tn}};function to(t,e){if("bubble"===e)return function t(e){for(var r=[],n=0;n<e.length;n++)r.push([s(e[n][0]),s(e[n][1]),s(e[n][2])]);return r}(t);r="number"===e?s:"datetime"===e?l:i;for(var r,n=[],o=0;o<t.length;o++)n.push([r(t[o][0]),s(t[o][1])]);return n}function ta(t,e){for(var r=0;r<t.length;r++)for(var n=c(t[r].data),o=0;o<n.length;o++)if(!e(n[o][0]))return!1;return!0}function ti(e,n,o){var a,i,s,l=e.options,p=e.rawData;e.singleSeriesFormat=!t(p)||!r(p[0]),e.singleSeriesFormat&&(p=[{name:l.label,data:p}]),p=function t(e){for(var r=[],n=0;n<e.length;n++){var o={};for(var a in e[n])Object.prototype.hasOwnProperty.call(e[n],a)&&(o[a]=e[n][a]);r.push(o)}return r}(p);for(var u=0;u<p.length;u++)p[u].data=c(p[u].data);e.xtype=n||(l.discrete?"string":(a=p,i=o,s=l,tl(a)?(s.xmin||s.xmax)&&(!s.xmin||$(s.xmin))&&(!s.xmax||$(s.xmax))?"datetime":"number":ta(a,v)?"number":!i&&ta(a,$)?"datetime":"string"));for(var h=0;h<p.length;h++)p[h].data=to(p[h].data,e.xtype);return p}function ts(t){for(var e,r=c(t.rawData),n=0;n<r.length;n++)r[n]=[""+(e=r[n][0]),s(r[n][1])];return r}function tl(t,e){if("PieChart"===e||"GeoChart"===e||"Timeline"===e)return 0===t.length;for(var r=0;r<t.length;r++)if(t[r].data.length>0)return!1;return!0}var tc=[],tp=0;function tu(t,e){t.textContent=e}function th(t,e,r){r||(e="Error Loading Chart: "+e),tu(t,e),t.style.color="#ff0000"}function td(t){try{t.__render()}catch(e){throw th(t.element,e.message),e}}function tf(t,e,r){if(r&&t.options.loading&&("string"==typeof e||"function"==typeof e)&&tu(t.element,t.options.loading),"string"==typeof e){var n,o,a;n=e,o=function(e){t.rawData=e,td(t)},a=function(e){th(t.element,e)},tc.push([n,o,a]),function t(){if(tp<4){var e,r,n,o,a=tc.shift();a&&(tp++,e=a[0],r=a[1],n=a[2],(o=new XMLHttpRequest).open("GET",e,!0),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){tp--,t(),200===o.status?r(JSON.parse(o.responseText)):n(o.statusText)},o.send(),t())}}()}else if("function"==typeof e)try{e(function(e){t.rawData=e,td(t)},function(e){th(t.element,e,!0)})}catch(i){th(t.element,i,!0)}else t.rawData=e,td(t)}var ty=function t(e,r,n){this.element=function t(e){if("string"==typeof e){var r=e;if(!(e=document.getElementById(e)))throw Error("No element with id "+r)}return e}(e),this.options=o(tn.options,n||{}),this.dataSource=r,this.element.id&&(tn.charts[this.element.id]=this),tf(this,r,!0),this.options.refresh&&this.startRefresh()};ty.prototype.getElement=function t(){return this.element},ty.prototype.getDataSource=function t(){return this.dataSource},ty.prototype.getData=function t(){return this.data},ty.prototype.getOptions=function t(){return this.options},ty.prototype.getChartObject=function t(){return this.chart},ty.prototype.getAdapter=function t(){return this.adapter},ty.prototype.updateData=function t(e,r){this.dataSource=e,r&&this.__updateOptions(r),tf(this,e,!0)},ty.prototype.setOptions=function t(e){this.__updateOptions(e),this.redraw()},ty.prototype.redraw=function t(){tf(this,this.rawData)},ty.prototype.refreshData=function t(){if("string"==typeof this.dataSource){var e=-1===this.dataSource.indexOf("?")?"?":"&";tf(this,this.dataSource+e+"_="+new Date().getTime())}else"function"==typeof this.dataSource&&tf(this,this.dataSource)},ty.prototype.startRefresh=function t(){var e=this,r=this.options.refresh;if(r&&"string"!=typeof this.dataSource&&"function"!=typeof this.dataSource)throw Error("Data source must be a URL or callback for refresh");if(!this.intervalId){if(r)this.intervalId=setInterval(function(){e.refreshData()},1e3*r);else throw Error("No refresh interval")}},ty.prototype.stopRefresh=function t(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},ty.prototype.toImage=function t(e){if("chartjs"===this.adapter){if(!e||!e.background||"transparent"===e.background)return this.chart.toBase64Image();var r=this.chart.canvas,n=this.chart.ctx,o=document.createElement("canvas"),a=o.getContext("2d");return o.width=n.canvas.width,o.height=n.canvas.height,a.fillStyle=e.background,a.fillRect(0,0,o.width,o.height),a.drawImage(r,0,0),o.toDataURL("image/png")}throw Error("Feature only available for Chart.js")},ty.prototype.destroy=function t(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&this.element.removeEventListener("mouseover",this.__enterEvent),this.__leaveEvent&&this.element.removeEventListener("mouseout",this.__leaveEvent)},ty.prototype.__updateOptions=function t(e){var r=e.refresh&&e.refresh!==this.options.refresh;this.options=o(tn.options,e),r&&(this.stopRefresh(),this.startRefresh())},ty.prototype.__render=function t(){this.data=this.__processData(),function t(r,n){if(tl(n.data,r)){var o,a,i,s,l,c=n.options.empty||n.options.messages&&n.options.messages.empty||"No data";tu(n.element,c)}else(function t(r,n){var o="render"+r,a=n.options.adapter;"Chart"in window&&tr(window.Chart),"Highcharts"in window&&tr(window.Highcharts),window.google&&window.google.charts&&tr(window.google);for(var i=0;i<te.length;i++){var s=te[i];if((!a||a===s.name)&&e(s[o]))return n.adapter=s.name,n.__adapterObject=s,s[o](n)}if(te.length>0)throw Error("No charting library found for "+r);throw Error("No charting libraries found - be sure to include one before your charts")})(r,n),n.options.download&&!n.__downloadAttached&&"chartjs"===n.adapter&&(!0===(a=(o=n).options.download)?a={}:"string"==typeof a&&(a={filename:a}),(i=document.createElement("a")).download=a.filename||"chart.png",i.style.position="absolute",i.style.top="20px",i.style.right="20px",i.style.zIndex=1e3,i.style.lineHeight="20px",i.target="_blank",(s=document.createElement("img")).src="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path fill="#CCCCCC" d="M344 240h-56L287.1 152c0-13.25-10.75-24-24-24h-16C234.7 128 223.1 138.8 223.1 152L224 240h-56c-9.531 0-18.16 5.656-22 14.38C142.2 263.1 143.9 273.3 150.4 280.3l88.75 96C243.7 381.2 250.1 384 256.8 384c7.781-.3125 13.25-2.875 17.75-7.844l87.25-96c6.406-7.031 8.031-17.19 4.188-25.88S353.5 240 344 240zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208 93.31 208 208S370.7 464 256 464z"/></svg>'),s.alt="Download",s.style.width="20px",s.style.height="20px",s.style.border="none",i.appendChild(s),(l=o.element).style.position="relative",o.__downloadAttached=!0,o.__enterEvent=l.addEventListener("mouseover",function(t){var e=t.relatedTarget;e&&(e===this||this.contains(e))||!o.options.download||(i.href=o.toImage(a),l.appendChild(i))}),o.__leaveEvent=l.addEventListener("mouseout",function(t){var e=t.relatedTarget;e&&(e===this||this.contains(e))||!i.parentNode||i.parentNode.removeChild(i)}))}(this.__chartName(),this)},ty.prototype.__config=function t(){return tn.config};var t$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function t(){return ti(this)},e.prototype.__chartName=function t(){return"LineChart"},e}(ty),tv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function t(){return ts(this)},e.prototype.__chartName=function t(){return"PieChart"},e}(ty),tm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function t(){return ti(this,null,!0)},e.prototype.__chartName=function t(){return"ColumnChart"},e}(ty),tg=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function t(){return ti(this,null,!0)},e.prototype.__chartName=function t(){return"BarChart"},e}(ty),tb=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function t(){return ti(this)},e.prototype.__chartName=function t(){return"AreaChart"},e}(ty),tx=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function t(){return ts(this)},e.prototype.__chartName=function t(){return"GeoChart"},e}(ty),t_=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function t(){return ti(this,"number")},e.prototype.__chartName=function t(){return"ScatterChart"},e}(ty),tC=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function t(){return ti(this,"bubble")},e.prototype.__chartName=function t(){return"BubbleChart"},e}(ty),t0=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function t(){for(var e=this.rawData,r=0;r<e.length;r++)e[r][1]=l(e[r][1]),e[r][2]=l(e[r][2]);return e},e.prototype.__chartName=function t(){return"Timeline"},e}(ty);return tn.LineChart=t$,tn.PieChart=tv,tn.ColumnChart=tm,tn.BarChart=tg,tn.AreaChart=tb,tn.GeoChart=tx,tn.ScatterChart=t_,tn.BubbleChart=tC,tn.Timeline=t0,"undefined"==typeof window||window.Chartkick||(window.Chartkick=tn,document.addEventListener("turbolinks:before-render",function(){!1!==tn.config.autoDestroy&&tn.destroyAll()}),document.addEventListener("turbo:before-render",function(){!1!==tn.config.autoDestroy&&tn.destroyAll()}),setTimeout(function(){window.dispatchEvent(new Event("chartkick:load"))},0)),tn.default=tn,tn});